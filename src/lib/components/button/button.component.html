<button
  class="mc-button"
  [disabled]="disabled || loadingDisabled"
  [ngClass]="buttonCssClasses"
  (focus)="handleOnFocusEvent($event)"
>
  <div
    *ngIf="showOverlay"
    class="mc-button-overlay mc-button-overlay-white"
    [ngClass]="overlayCssClasses"
    (click)="handleEvent($event)"
    (dblclick)="handleEvent($event)"
    (mousedown)="handleEvent($event)"
    (mousemove)="handleEvent($event)"
    (mouseout)="handleEvent($event)"
    (mouseover)="handleEvent($event)"
    (mouseup)="handleEvent($event)"
    (mouseleave)="handleEvent($event)"
    (mouseenter)="handleEvent($event)"
    (contextmenu)="handleEvent($event)"
    (wheel)="handleEvent($event)"
  ></div>

  <ng-container *ngIf="!loading; else isLoading">
    <span
      class="mc-button-content"
      [class.mc-button-content-icon-left]="iconPosition === 'left'"
      [class.mc-button-content-icon-right]="iconPosition === 'right'"
      (click)="handleEvent($event)"
      (dblclick)="handleEvent($event)"
      (mousedown)="handleEvent($event)"
      (mousemove)="handleEvent($event)"
      (mouseout)="handleEvent($event)"
      (mouseover)="handleEvent($event)"
      (mouseup)="handleEvent($event)"
      (mouseleave)="handleEvent($event)"
      (mouseenter)="handleEvent($event)"
      (contextmenu)="handleEvent($event)"
      (wheel)="handleEvent($event)"
    >
      <ng-container *ngIf="icon && iconPosition === 'left'">
        <mc-icon
          [icon]="icon"
          [type]="iconType"
          [color]="colorForIcon"
          [sizeInPixels]="iconSizeInPixels"
        ></mc-icon>
      </ng-container>

      <mc-label [size]="labelSize" [color]="colorForIcon">
        <ng-content></ng-content>
      </mc-label>

      <ng-container *ngIf="icon && iconPosition === 'right'">
          <mc-icon
            [icon]="icon"
            [type]="iconType"
            [color]="colorForIcon"
            [sizeInPixels]="iconSizeInPixels"
          ></mc-icon>
      </ng-container>
    </span>
  </ng-container>

  <ng-template #isLoading>
    <div 
      class="mc-button-loader"
      [ngClass]="loaderCssClasses" 
      (click)="handleEvent($event)"
      (dblclick)="handleEvent($event)"
      (mousedown)="handleEvent($event)"
      (mousemove)="handleEvent($event)"
      (mouseout)="handleEvent($event)"
      (mouseover)="handleEvent($event)"
      (mouseup)="handleEvent($event)"
      (mouseleave)="handleEvent($event)"
      (mouseenter)="handleEvent($event)"
      (contextmenu)="handleEvent($event)"
      (wheel)="handleEvent($event)"
    >
      <div></div>
      <div></div>
      <div></div>
    </div>
  </ng-template>
</button>
